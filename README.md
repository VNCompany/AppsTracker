# AppsTracker
## Веб-приложение для сохранения аналитики приложений, написанных на desktop/web для анализа.

### Настройка подключения к базе данных:
Приложение получает данные для подключения из конфигурационного файла `AppsTracker/dbsettings.json` (предварительно нужно его ***создать***). Его структура описана ниже:

**AppsTracker/dbsettings.json**:
```JSON
{
  "postgresql": {
    "host": "localhost",
    "user": "имя пользователя",
    "password": "пароль",
    "dbname": "имя базы данных"
  }
}
```
Также, приложение использует порт по умолчанию (`5432`) для подключения к PostgreSql.

### Отправка событий (Events)
Отправка события в приложение происходит через Web API. Для этого, нужно послать POST запрос по адресу `/api/newevent` со следующим содержимым (JSON):
```JSON
{
  "appId": 1,
  "name": "updated",
  "description": "..."
}
```
#### Параметры
- `appId` (обязательно) - уникальный идентификатор приложения;
- `name` (обязательно) - название события;
- `description` (опционально) - дополнительная информация.
#### Возвращаемое значение
Сервер возвращает `ok`, если запрос прошёл успешно, иначе текст ошибки:
- `%param% is empty` - обязательное поле было пустым или не введено;
- `invalid json` - при неверном формате json, либо неверном параметре **appId**;
- `invalid appId` - введён идентификатор несуществующего приложения.
